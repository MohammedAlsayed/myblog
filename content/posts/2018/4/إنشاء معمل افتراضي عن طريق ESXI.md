---
title: "إنشاء معمل افتراضي عن طريق ESXI"
date: 2018-04-04T23:02:44+03:00
draft: false
categories : [
    "Development",
    "golang",
]
rtl: true
---

# مقدمة

في هذه المشاركة سوف نشرح عن المعمل الافتراضي وكيف يمكن إنشاء معمل افتراضي virtualization lab عن طريق برنامج vmware esxi
وأقصد بالمعمل الافتراضي تشغيل عدة أنظمة في جهاز واحد.

# الخيارات المتاحة

هناك معملين افتراضيين قمت بتجربتهم٬ وكليهما مجاني

١- [oracle virtual box](https://www.virtualbox.org/wiki/Downloads) اوراكل

٢- [vmware esxi](https://my.vmware.com/en/web/vmware/evalcenter?p=free-esxi6) فيم وير 
او VMware vSphere Hypervisor

مميزات فيم وير عن أوراكل:

* أنه يمكنك الدخول على نظام التشغيل عن بعد ببرنامج 
vSphere client هذه أهم ميزة شدتني في فيم وير
٬ لكن للأسف لا يوجد إصدار خاص للماك٬
لكن هناك بديل٬ وذلك بالدخول عليه من متصفح الويب.
* لوحة تحكم جميل٬ فيه الأنظمة القائمة و مقدار استهلاكها للسي بي يو والرام وغيرها
* أنه مبني على نظام لينكس

من عيوب فيم وير:

* أنه لا يدعم الواي فاي٬ للاتصال بالانترنت تحتاج إلى سلك ايثرنت
* أن ملف تثبيته ال iso لا يدعم جميع كروت الانترنت NIC وسنتطرق إلى كيفية حل المشكلة 

# المتطلبات

* جهاز ويندوز في حال عدم توفر ذلك يمكنك استخدم [virtual box](https://www.virtualbox.org/wiki/Downloads)
* جهاز كمبيوتر غير مستخدم

# التحميل والتثبيت

١- يمكنك تحميل
من هنا [VMware vSphere Hypervisor] (https://my.vmware.com/en/web/vmware/evalcenter?p=free-esxi6)
٬ وأنشئ لك حساب مجاني وسوف يكون لك مفتاح تسجيل غير منتهي لتفعيل البرنامج

٢- تحتاج حرق البرنامج على ال
USB عن طريق أحد البرامج المتاحة مثل

* [unetbootin](http://unetbootin.github.io)

٢- التثبيت ال ESXI

من المشاكل التي واجهتها في التثبيت مشكلة nfs41 client failed to load
٬ وأصل المشكلة هذه تنبع من عدم دعم فيم وير لجميع كروت الانترنت فتحتاج إلى دمج driver كرت الانترنت الخاص بجهازك مع ملف التثبيت الذي تم تحميله.

في هذه الحالة سنحتاج إلى أمرين: 

١- برنامج لدمج ملف تعريف كرت الانترنت بملف التثبيت واسمه
ESXi-Customizer
ويمكن تحميله
[من هنا](http://vibsdepot.v-front.de/tools/ESXi-Customizer-v2.7.2.exe)٬
وهذا صفحة البرنامج [v-front.de](https://www.v-front.de/p/esxi-customizer.html#download)

 ملاحظة: لا توجد نسخة إلا للويندور للأسف

٢- ملف تعريف لكرت الانترنت ويمكن البحث عنه
[من هنا](https://vibsdepot.v-front.de/wiki/index.php/List_of_currently_available_ESXi_packages)
بالنسبة لجهازي الذي كان 
HP Pavilion dv6 
قمت بالبحث في الموقع الأم عن كرت الانترنت الموجود باللابتوب لكن لم يكن واضحا ما يناسبه من ملفات تعريف من موقع v-front.de
قمت باختيار [net55-r8168](https://vibsdepot.v-front.de/wiki/index.php/Net55-r8168) وظبط !


٣- الآن قم بدمج الملفان عن طريق برنامج ESXi-Customizer

بعد انتهاء الدمج  سيصدر لك ملف iso جديد قم بحرقه على usb ٬وقم بتجربة تثبيته على الجهاز مرة أخرى٬
هناك مقاطع كثيرة على اليوتيوب تشرح طريقة تثبيت مثال :
[esxi](https://www.youtube.com/watch?v=tVsepuLiXK8)


# تثبيت نظام تشغيل على ESXI

١- بعد انتهاء التثبيت يمكنك الآن الدخول على لوحة التحكم من متصفح جهاز آخر عن طريق ال ip
ففي حالتي
https://192.168.100.30/ui/
وقم بإدخال اسم المستخدم والباسورد

٢- لتفعيل البرنامج اذهب إلى
Manage -> Licencing -> Assign License 
وأضف المفتاح
كما في الصورة 
![key](/img/2018/4/add_key.png)

٣- قم بإنشاء نظام تشغيل افتراضي عن طريق 
Virtual Machines -> Create / Register VM

٣- لدى esxi أنظمة تشغيل جاهزة يمكنك استخدامها 
لكن في حال رغبتك لرفع نظام تشغيل آخر يمكنك 
ذلك٬ كما توضحه الصورة
![upload](/img/2018/4/upload_esxi.png)
ففي حالتي قمت برفع نسخة من Centos 7


٤- حتى يقوم بتثبيت النسخة الذي رفعته عند التشغيل في خطوة ٣
سنقوم بالتالي:
![boot](/img/2018/4/boot_CD.png)

وتهانينا قم الآن بتشغيله Power on وافتح Console

الآن يمكنك الدخول على أي  VM عن طريق لوحة التحكم ويمكنك ذلك من خارج البيت أيضا٬ ربما سنتطرق إلى كيفية الدخول عليه من خارج شبكة البيت في المشاركة المقبلة إن شاء الله.